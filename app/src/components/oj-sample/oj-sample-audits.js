/*! 
 * Copyright (c) 2020, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 */
define((()=>(()=>{"use strict";var e={816:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditBase=void 0;class a{getName(){return this.auditName}getShortDescription(){return this.auditShortDescription}getDescription(){return this.auditFullDescription}getFirstElementInSlot(e,t,s,n=!1){const r=e.utils.DomUtils;let o,l=!1;if(r.hasChildren(t)){const t=r.getChildren(e.node);let n=0;if(t.length>0)do{const e=t[n];"tag"===e.type?s?r.hasAttrib(e,a.SLOT_ATTR)&&r.getAttribValue(e,a.SLOT_ATTR)===s?o=e:n++:o=e:n++}while(!o&&n<t.length)}if(o&&n&&"template"===o.name){let e;l=!0;const t=r.getChildren(o);let a=0;if(t.length>0)do{const s=t[a];"tag"===s.type?e=s:a++}while(!e&&a<t.length);e&&(o=e)}return{child:o,usesTemplate:l}}storeRuleState(e,t,a){let s=e.rulePack.getExtension();s||(s={}),s.hasOwnProperty(this.auditName)||(s[this.auditName]=new Map),s[this.auditName].set(t,a),e.rulePack.setExtension(s)}retrieveRuleState(e,t){const a=e.rulePack.getExtension();if(a&&a.hasOwnProperty(this.auditName))return a[this.auditName].get(t)}pathToVBLocator(e){let t;let a=e.split("/");const s=a.pop().match(/(.*)-(page|flow)\.(html|json|js)/i),n="app"===s[1].toLowerCase()?"application":s[2].toLowerCase(),r=[];let o,l=!1;for(a=a.reverse();a.length>0;){const e=a.pop();"webApps"===e?l=!0:l&&(o?r.push(e):o=e)}const i=r.join(".");let p,c,d;if("application"!==n){if("page"===n){const e=r.slice(0,r.length-1);p=e.join("."),c=e.pop()}else p=i,c=s[1];d=`${o}:flow:${p}:${c}`}return t={name:s[1],sourcePath:e,application:o,type:s[3].toLowerCase(),scope:n,path:i,peerId:`${o}:${n}:${i}:${s[1]}`,flowId:d,applicationId:`${o}:application::app`},t}parseVBVariableExpression(e){const t=e.match(/(?:[\{|\[]{2})\s*(\$[\w]*).(\w*).(\w*)\s*(?:[\}|\]]{2})/);let a;switch(t[1]){case"$variables":a={scope:"page",variableName:t[2]};break;case"$page":a={scope:"page",variableName:t[3]};break;case"$flow":a={scope:"flow",variableName:t[3]};break;case"$application":a={scope:"application",variableName:t[3]}}return a}convertToReportingPosition(e){const t={line:0,col:0,startIndex:0,endIndex:0};return Object.keys(e).forEach((a=>{switch(a){case"start":case"startIndex":t.startIndex=e[a];break;case"end":case"endIndex":t.endIndex=e[a];break;case"row":case"line":t.line=e[a];break;case"col":case"column":t.col=e[a]}})),t}isExpressionString(e){if(e){return/^(?:\[{2})(.*)(?:\]{2})$|^(?:\{{2})(.*)(?:\}{2})$/g.test(e.trim())}return!1}}t.auditBase=a,a.SLOT_ATTR="slot",e.exports.default=a},383:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manifest=void 0;const l=o(a(956)),i=o(a(438)),p=r(a(479));t.manifest=function(){return{rulesJson:l.default,msgid:i.default,rules:{"oj-sample-calendar-template-contents":p}}}},479:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ojSampleCalendarTemplateContents=void 0;const s=a(816);class n extends s.auditBase{constructor(){super(...arguments),this.AUDIT_TAG="oj-sample-calendar",this.auditName="oj-sample-calendar-template-contents",this.auditShortDescription="Ensure correct template implementations for oj-sample-calendar",this.auditFullDescription="This rule checks that the correct calendar sub-components have been used in the eventTemplate and providerTemplate slots of the oj-sample component (oj-sample-calendar-event and oj-sample-calendar-provider respectively)"}register(e){return{ojtag:this._doAudit}}_doAudit(e,t){t===this.AUDIT_TAG&&(this._checkSlot(e,this.AUDIT_TAG,"eventTemplate","oj-sample-calendar-event","oj-sample-calendar-template-contents_event"),this._checkSlot(e,this.AUDIT_TAG,"providerTemplate","oj-sample-calendar-provider","oj-sample-calendar-template-contents_provider"))}_checkSlot(e,t,a,s,n){const{child:r,usesTemplate:o}=this.getFirstElementInSlot(e,e.node,a,!0);if(o){if(r&&r.name!==s){let o=new e.Issue(`Child of ${t} template slot ${a} must be ${s}, found: '${r.name}'`);o.setMsgKey(n),e.reporter.addIssue(o,e,"blocker")}}else if(r){let n=new e.Issue(`Child of ${t} ${a} slot must be ${s} wrapped in a <template> element, found: '${r.name}'`);n.setMsgKey("oj-sample-calendar-template-contents_template"),e.reporter.addIssue(n,e,"blocker")}}}t.ojSampleCalendarTemplateContents=n,e.exports=n},438:e=>{e.exports=JSON.parse('{"oj-sample-calendar-template-contents_event":"0010","oj-sample-calendar-template-contents_provider":"0011","oj-sample-calendar-template-contents_template":"0012"}')},956:e=>{e.exports=JSON.parse('{"title":"Oracle Audit Rules for oj-sample components","prefix":"OJSAMPLE","version":"1.0.0","rules":{"oj-sample-calendar-template-contents":{"enabled":true,"amd":true,"filetype":["html"],"severity":"blocker"}}}')}},t={};var a=function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}(383);return a})()));