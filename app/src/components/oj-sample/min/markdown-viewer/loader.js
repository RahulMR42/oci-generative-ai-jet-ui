define("text!oj-sample/markdown-viewer/markdown-viewer-view.html",[],(function(){return'\x3c!--\n  Copyright (c) 2019,2023 Oracle and/or its affiliates.\n  The Universal Permissive License (UPL), Version 1.0\n--\x3e\n<oj-bind-if test="[[isContent()]]">\n  <div :class=\'[[{"redwoodStyling":applyRedwoodStyling(),"legacyStyling":applyLegacyStyling()}]]\' :id="[[contentSubId]]"></div>\n</oj-bind-if>'})),define("oj-sample/markdown-viewer/resources/nls/markdown-viewer-strings",{root:!0}),define("oj-sample/markdown-viewer/lib/markdownCleaner",[],(function(){"use strict";function e(){}return e.prototype.defaultCleanse=function(e){return e.replace(/<[//]*script[\s]*>/gi,"&lt;script&gt;")},new e})),define("oj-sample/markdown-viewer/markdown-viewer-viewModel",["ojs/ojcontext","ojs/ojlogger","knockout","ojL10n!./resources/nls/markdown-viewer-strings","marked","./lib/markdownCleaner"],(function(e,t,n,o,r,i){"use strict";function a(e){var t=this;t.composite=e.element,t.res=o.ojsampleMarkdownViewer,t.contentSubId=e.uniqueId+"_content",t.inputValue=n.observable(),t.isContent=n.observable(!1),t.applyRedwoodStyling=n.observable("redwood"===e.properties.htmlRendering.toLowerCase()),t.applyLegacyStyling=n.observable(["legacy","redwood"].includes(e.properties.htmlRendering.toLowerCase())),t.converter=r,t.converter.setOptions({gfm:"github"===e.properties.flavor}),t.doFilter=!1,t.loggingIdentity="oj-sample-markdown-viewer ("+e.uniqueId+"): ",t.properties=e.properties,void 0!==t.properties.outputFilter&&(t.doFilter=!0)}return a.prototype.bindingsApplied=function(o){var r=this;r.markdownValue=n.computed((function(){var n=e.getContext(o.element).getBusyContext().addBusyState({description:"Processing of markdown content"});if(void 0!==r.inputValue()&&r.inputValue().length>0){var a=r.inputValue().replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,""),s=i.defaultCleanse(r.converter.parse(a));(r.doFilter?r.properties.outputFilter(s):Promise.resolve(s)).then((function(e){void 0!==e&&"string"==typeof e?e.length>0?(r.isContent(!0),document.getElementById(r.contentSubId).innerHTML=e):r.isContent(!1):r.isContent(!1);n()})).catch((function(e){r.isContent(!1),t.error(r.loggingIdentity+" "+e),n()}))}else r.isContent(!1),n()})),r.inputValue(r.properties.value)},a.prototype.propertyChanged=function(e){var t=this;if("external"===e.updatedFrom)switch(e.property){case"value":t.inputValue(e.value);break;case"flavor":t.converter.setOptions({gfm:"github"===e.value}),t.inputValue.valueHasMutated();break;case"htmlRendering":t.applyRedwoodStyling("redwood"===e.value.toLowerCase()),t.applyLegacyStyling(["legacy","redwood"].includes(e.value.toLowerCase()))}},a})),define("text!oj-sample/markdown-viewer/component.json",[],(function(){return'{"name":"markdown-viewer","pack":"oj-sample","version":"9.0.0","jetVersion":">=13.0.0 <16.0.0","dependencies":{"oj-ref-marked":"^4.3.0"},"properties":{"value":{"type":"string"},"flavor":{"value":"vanilla","type":"string","enumValues":["vanilla","github"]},"outputFilter":{"type":"function(string):promise"},"htmlRendering":{"value":"legacy","type":"string","enumValues":["legacy","inherit","redwood"]}}}\n'})),define("oj-sample/markdown-viewer/loader",["ojs/ojcomposite","text!./markdown-viewer-view.html","./markdown-viewer-viewModel","text!./component.json","css!./markdown-viewer-styles"],(function(e,t,n,o){e.register("oj-sample-markdown-viewer",{view:t,viewModel:n,metadata:JSON.parse(o)})}));
//# sourceMappingURL=loader.js.map